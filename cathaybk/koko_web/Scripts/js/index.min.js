!function(e,t,l,a){"use strict";function i(){this._owl={_element:".jQ-indexOwl",_title:".jQ-indexOwlTitle",_dots:".jQ-indexOwlDots",_dot:".jQ-indexOwlDot",_click:!1,_value:[1,1]},this._flip={_element:".jQ-flip",_aniamate:".jQ-flipAnimate",_titleGroup:".jQ-flipTitleGroup",_title:".jQ-flipTitle",_append:'<span class="jQ-flipAppend"></span>',_clickNum:0,_translateZ:0},this._indexFlip=".jQ-indexFlip",this._media={_element:".jQ-indexVideo"}}var _=new i;i.prototype.flipThick=function(){var e=l(_._flip._titleGroup),t=e.css("transform").replace(/[^0-9\-.,]/g,"").split(","),a=t[14]||t[6];if(_._flip._translateZ===a)return!1;_._flip._translateZ=a,l(".jQ-flipAppend").remove();for(var i=0;i<2*_._flip._translateZ-1;i++)l(_._flip._aniamate).append(_._flip._append)},i.prototype.getTitle=function(){for(var e=l(_._owl._title),t=l(_._flip._titleGroup),a=l(_._owl._dots),i=l(_._owl._dot),n={$titleGroup:null,$owlDot:null},o=1,d=0;d<e.length;d++)if(n.$titleGroup=t.first().clone(),n.$owlDot=i.first().clone().removeClass(a.data("active")).removeData("index").data("index",d),0!==d&&(t.last().after(n.$titleGroup),a.append(n.$owlDot),o+=1),t=l(_._flip._titleGroup),t.eq(d).find(_._flip._title).html(e.eq(d).html()),o===e.length){var r=1e3*parseFloat(l(_._flip._aniamate).css("transition-duration"),10),s={_run:l(_._flip._element).data("run"),_ready:l(_._flip._element).data("ready")};l(_._flip._element).addClass(s._run).delay(r-r/6).queue(function(){l(_._flip._element).addClass(s._ready).dequeue()}),a.addClass(a.data("ready"))}},i.prototype.owlArrow=function(){0!==projects.$w.scrollTop()&&projects.$w.scrollTop()<l(_._indexFlip).offset().top+l(_._indexFlip).outerHeight()/3?l(common._owl._ctrl).addClass("is-fixed"):l(common._owl._ctrl).removeClass("is-fixed")},i.prototype.owlEvents=function(){l(""+common._owl._all+_._owl._element).on("initialized.owl.carousel",function(t){var l=null;l=setTimeout(function(){e.clearTimeout(l),_.owlArrow()},0)}).on("changed.owl.carousel",function(e){var t=1e3*parseFloat(l(_._flip._aniamate).css("transition-duration"),10),a=e.item.index,i={_item:l(_._flip._element).data("item"),_ready:l(_._flip._element).data("ready"),_run:l(_._flip._element).data("run"),_half:l(_._flip._element).data("half"),_stop:l(_._flip._element).data("stop"),_colorPositive:l(_._flip._element).data("color-positive"),_colorNegative:l(_._flip._element).data("color-negative"),_active:l(_._owl._dots).data("active")},n=l(e.target).find(".owl-item");return _._owl._value[1]!==a+1&&(_._flip._clickNum+=1,n.find(_._media._element).removeClass(i._run),l(_._flip._element).removeClass(""+i._item+_._owl._value[0]+"-"+_._owl._value[1]+" "+i._ready+" "+i._colorPositive+" "+i._colorNegative),l(_._owl._dot).eq(a).addClass(i._active).siblings().removeClass(i._active),_._owl._value[0]=_._owl._value[1],_._owl._value[1]=a+1,_._flip._clickNum%2===0?l(_._flip._element).addClass(i._colorPositive):l(_._flip._element).addClass(i._colorNegative),void l(_._flip._element).addClass(""+i._item+_._owl._value[0]+"-"+_._owl._value[1]).delay(t/3).queue(function(){l(_._flip._element).addClass(i._half).dequeue()}).delay(t-t/6).queue(function(){l(_._flip._aniamate).addClass(i._stop),l(_._flip._element).addClass(i._ready).dequeue()}).delay(50).queue(function(){l(_._flip._aniamate).removeClass(i._stop),l(_._flip._element).dequeue()}))}).on("translated.owl.carousel",function(e){var t={_half:l(_._flip._element).data("half"),_run:l(_._flip._element).data("run"),_hide:l(common._loading).data("hide")},a=l(e.target).find(".owl-item"),i=e.item.index;_._owl._click=!1,a.find(common._loading).removeClass(t._hide),createjs.Ticker.removeAllEventListeners(),a.find(_._media._element).empty(),_.CreateVideo(a.eq(i).find(_._media._element)),l(_._flip._element).delay(50).queue(function(){l(_._flip._element).removeClass(t._half).dequeue()})})},i.prototype.CreateVideo=function(e){if(0!==l(e).length){var a=null,i=new createjs.LoadQueue((!0)),_=[],n=/\*/,o=l(e).data("length"),d=0,r=1,s=l(e).data("fps"),p={_element:t.createElement("canvas"),_width:0|l.trim(l(e).data("canvas").split(",")[0]),_height:0|l.trim(l(e).data("canvas").split(",")[1])},c={_element:null,_array:[],_src:l(e).data("src"),_bitmap:null},m=function(t){if(t.currentTarget._loadQueueBackup.length!==d){d+=1;var a=(100/t.currentTarget._loadQueueBackup.length*d|0)+"%",i=l(e).prev().data("message").replace(/0\%/,a);l(e).prev().attr("data-message",i)}},u=function(t){console.log(),c._bitmap=new createjs.Bitmap(c._array[r]),c._bitmap.cache(0,0,p._width,p._height),a.addChild(c._bitmap),e.prev().addClass(e.prev().data("hide")),createjs.Ticker.setFPS(s),createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED,createjs.Ticker.addEventListener("tick",f)},f=function(){r+=1,o<r&&(r=1),c._bitmap.image=c._array[r],c._bitmap.cache(0,0,p._width,p._height),a.addChild(c._bitmap),a.update()};p._element.id="canvas",p._element.width=p._width,p._element.height=p._height,l(e).append(l(p._element)),a=new createjs.Stage("canvas");for(var v=0;v<o;v++){var w=c._src.replace(n,v+1);c._element=new Image,c._element.src=w,_.push({src:w,id:v+1+""}),c._array.push(c._element)}i.loadManifest(_),i.addEventListener("fileload",m),i.addEventListener("complete",u)}},l(_._owl._dots).on("click",_._owl._dot,function(e){var t=l(this),a=t.parents(_._flip._element).next(common.owl),i=l(""+_._owl._dot+"."+l(_._owl._dots).data("active")).index(),n=t.data("index"),o=i-n!==1&&i-n!==-1?a.data("speed")/2:a.data("speed");_._owl._click||(_._owl._click=!0,projects.owlGoto(a,n,o))}),projects.$d.ready(function(){projects.mediaInit(),_.flipThick(),_.getTitle()}),projects.$w.resize(function(){_.flipThick()}),projects.$w.scroll(function(){_.owlArrow()}),e.index||(e.index=_)}(window,document,jQuery);